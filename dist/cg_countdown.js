!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("CgCountDown",[],e):"object"==typeof exports?exports.CgCountDown=e():t.CgCountDown=e()}(this,(()=>(()=>{"use strict";var t={d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Clock:()=>r,DateTimeConverter:()=>n});class a{constructor(t,e){this.el=this.createTrackerElement(t),this.currentValue=99,this.update(e)}createTrackerElement(t){const e=document.createElement("span");return e.className="flip-clock__piece",e.innerHTML=`\n            <b class="flip-clock__card card">\n                <b class="card__top"></b>\n                <b class="card__bottom"></b>\n                <b class="card__back">\n                    <b class="card__bottom"></b>\n                </b>\n            </b>\n            <span class="flip-clock__slot">${t.toUpperCase()}</span>`,e}update(t){const e=this.el.querySelector(".card__top"),a=this.el.querySelector(".card__bottom"),r=this.el.querySelector(".card__back"),n=this.el.querySelector(".card__back .card__bottom");(t=("0"+t).slice(-2))!==this.currentValue&&(this.currentValue>=0&&(r.setAttribute("data-value",this.currentValue),a.setAttribute("data-value",this.currentValue)),this.currentValue=t,e.innerText=this.currentValue,n.setAttribute("data-value",this.currentValue),this.el.classList.remove("flip"),this.el.offsetWidth,this.el.classList.add("flip"))}}class r{constructor(t){this.targetDate=t.targetDate,this.parentEl=document.querySelector(t.ElSelector),this.countdownContainer=this.createCountdownContainer(t.output),this.countdownDivId=t.targetId,this.countdownEl=this.countdownContainer.querySelector(`#${this.countdownDivId}`),this.countdownEl.className="flip-clock",this.parentEl.insertAdjacentElement("afterend",this.countdownContainer),this.callback=t.callback||function(){},this.trackers=this.initializeTrackers(),setTimeout(this.updateClock.bind(this),500)}createCountdownContainer(t){const e=document.createElement("div");return e.innerHTML=t,e.firstChild}initializeTrackers(){const t={},e=this.getTimeRemaining(this.targetDate);for(let r in e)"Total"!==r&&(t[r]=new a(r,e[r]),this.countdownEl.appendChild(t[r].el));return t}getTimeRemaining(t){const e=Date.parse(t)-Date.parse(new Date)-324e5;return{Total:e,Days:Math.max(0,Math.floor(e/864e5)),Hours:Math.max(0,Math.floor(e/36e5%24)),Minutes:Math.max(0,Math.floor(e/1e3/60%60)),Seconds:Math.max(0,Math.floor(e/1e3%60))}}updateClock(){const t=requestAnimationFrame(this.updateClock.bind(this));if(this.frameCount++%10)return;const e=this.getTimeRemaining(this.targetDate);if(e.Total<0){cancelAnimationFrame(t);for(let t in this.trackers)this.trackers[t].update(0);this.callback&&this.callback()}else for(let t in this.trackers)this.trackers[t].update(e[t])}}class n{static convertStringToDate(t){const e=t.split(/[/ :]/).map((t=>parseInt(t,10)));return new Date(e[0],e[1]-1,e[2],e[3],e[4])}}return e})()));